<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LSPU Campus Navigator</title>
  <link rel="icon" type="image/png" href="sprites/lspu_logo.png">
  <!-- Local Leaflet CSS for offline usage -->
  <link rel="stylesheet" href="libs/leaflet.css" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="page-brand">
    <div class="page-brand__inner">
      <img src="sprites/lspu_logo.png" alt="LSPU logo" class="logo">
      <div>
        <p class="eyebrow" style="margin-bottom:4px;">Laguna State Polytechnic University</p>
        <span class="brand-title">Campus Navigator — Los Baños Campus</span>
      </div>
    </div>
  </div>

  <section id="landing" class="landing">
    <div class="landing__glow"></div>
    <div class="landing__card">
      <div class="landing__card-actions">
        <button id="theme-toggle-landing" class="icon-btn square" aria-label="Toggle theme"><i data-feather="sun"></i></button>
        <button id="open-info-landing" class="icon-btn square" aria-label="Open information"><i data-feather="info"></i></button>
      </div>
      <p class="eyebrow">Welcome, Ka-Piyu!</p>
      <h1>Navigate our Los Baños Campus in seconds.</h1>
      <p class="sub">
        Plan the most efficient path from any room to your destination with live graph search.
      </p>
      <div class="quick-stats">
        <div><span class="stat-num">180+</span><span class="stat-label">Locations</span></div>
        <div><span class="stat-num">1-click</span><span class="stat-label">Optimal route</span></div>
        <div><span class="stat-num">Timed Arrival</span><span class="stat-label">Accurate ETA</span></div>
      </div>
      <button id="get-started" class="cta">Get started</button>
    </div>
  </section>

  <!-- Fun Facts Tab -->
  <div id="fun-facts-tab" class="fun-facts-tab hidden">
    <div class="fun-facts-content" id="facts-content">
      <h2>Did you know?</h2>
      <div class="fact-display">
        <div class="fact-category" id="fact-category"><i data-feather="bookmark"></i> History</div>
        <div class="fact-text" id="fact-text">Loading fun fact...</div>
      </div>
      <button id="shuffle-fact" class="shuffle-btn"><i data-feather="shuffle"></i> Show Another Fact</button>
    </div>
  </div>

  <div class="app inactive">
    <header>
      <div class="dot"></div>
      <h1>Campus Navigation Tool</h1>
      <div class="header-actions">
        <button id="theme-toggle-btn" class="icon-btn square" aria-label="Toggle theme"><i data-feather="sun"></i></button>
        <button id="open-info" class="icon-btn square" aria-label="Open information"><i data-feather="info"></i></button>
        <button id="exit-to-landing" class="icon-btn square" aria-label="Back to get started"><i data-feather="x"></i></button>
      </div>
    </header>
    <div class="content">
      <section class="panel">
        <label for="start">Starting location</label>
        <select id="start"></select>

        <label for="end">Destination</label>
        <select id="end"></select>

        <button id="compute">Compute optimal path</button>
        <div id="error" class="error" aria-live="polite"></div>

        <div class="result-card">
          <p class="result-title">Shortest distance</p>
          <p id="distance" class="distance">—</p>
          <div class="path" id="path"></div>
        </div>

        <div class="legend">
          Uses weighted graph search (Dijkstra's algorithm) on building distances.
        </div>
      </section>

      <section class="panel">
        <h3 style="margin:0 0 12px;font-size:16px;">Overview</h3>
        <div class="graph-info">
          <div class="stat">
            <strong>Nearest landmark</strong>
            <span id="hub-node">—</span>
          </div>
          <div class="stat">
            <strong>Est. time</strong>
            <span id="avg-degree">—</span>
          </div>
        </div>

        <div class="map-card">
          <h3 style="margin:0 0 10px;font-size:15px;">Campus map (Leaflet overlay)</h3>
          <div id="map"></div>
          <p class="map-note">Use the scroll wheel to pan/zoom the map.</p>
        </div>
      </section>
    </div>
  </div>

  <div id="info-overlay" class="settings-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="info-title">
    <div class="settings-panel">
      <div class="settings-header">
        <h3 id="info-title">Information</h3>
        <button id="close-info" class="icon-btn square" aria-label="Close information"><i data-feather="x"></i></button>
      </div>
      <div class="info-columns">
        <div class="info-col">
          <p class="settings-label">How to use</p>
          <p class="settings-help">
            1) Pick your start and destination.<br>
            2) Click “Compute optimal path”.<br>
            3) Review distance and path chips.<br>
            4) Pan/zoom the campus map for context.
          </p>
        </div>
        <div class="info-col">
          <p class="settings-label">About</p>
          <p class="settings-help">
            LSPU Campus Navigator computes weighted shortest paths across mapped campus locations and presents them on a zoomable SVG map for clear orientation.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Facts Toggle Button -->
  <button id="facts-toggle-mobile" class="facts-toggle-mobile" aria-label="Toggle fun facts"><i data-feather="bulb"></i></button>

  <!-- Local scripts for offline usage -->
  <script src="libs/leaflet.js"></script>
  <script src="libs/feather-icons.js"></script>
  <script>
    // Initialize feather icons when DOM is ready
    window.addEventListener('DOMContentLoaded', () => {
      if (window.feather && typeof window.feather.replace === 'function') {
        window.feather.replace();
      }
    });
  </script>
  <script src="app.js"></script>
  <footer class="site-footer">(c) Laguna State Polytechnic University, 2025</footer>
</body>
</html>
